<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[SQL 2012 Admin Exam 06 SQL Server Logins Roles And Users]]></title>
      <url>www.datagriff.com/2016/11/SQL-2012-Admin-Exam-06-SQL-Server-Logins-Roles-And-Users/</url>
      <content type="html"><![CDATA[<p>So on to some exciting security stuff…</p>
<h3 id="Video-Exercises"><a href="#Video-Exercises" class="headerlink" title="Video Exercises"></a>Video Exercises</h3><ul>
<li><a href="https://youtu.be/_uJ6ZaBQvsM" target="_blank" rel="external">SQL 2012 Create Logins</a></li>
<li><a href="https://youtu.be/Bpi1O2AUAeA" target="_blank" rel="external">SQL 2012 Fixed Server Roles</a></li>
<li><a href="https://youtu.be/qbPP7oSMu2U" target="_blank" rel="external">SQL 2012 User Defined Server Roles</a></li>
<li><a href="https://youtu.be/a0lVUsNBb2A" target="_blank" rel="external">SQL 2012 Create Database Users</a></li>
<li><a href="https://youtu.be/ayhosQqyr24" target="_blank" rel="external">SQL 2012 Administer Database Roles</a></li>
<li><a href="https://youtu.be/e6jQ42f4N90" target="_blank" rel="external">SQL 2012 Partially Contained Databases</a></li>
</ul>
<h3 id="Key-Terms"><a href="#Key-Terms" class="headerlink" title="Key Terms"></a>Key Terms</h3><ul>
<li><strong>Windows Authenticated Login</strong> - Inherited from local or domain active directory.</li>
<li><strong>SQL Server Authenticated Login</strong> - Specific to SQL and requires password.</li>
<li><strong>Certificate</strong> - Can create certificate if master key is present and then a login from certificate.</li>
<li><strong>Assymetric Key</strong> - Can create login from asymmetric key and have a public and private key.</li>
<li><strong>Fixed Server Roles</strong> - sysadmin, serveradmin, securityadmin, processadmin, setupadmin, bulkadmin, diskadmin, dbcreator, public.</li>
<li><strong>User Defined Server Roles</strong> - Can create user defined server roles which allow bespoke server level permissions.</li>
<li><strong>Credential</strong> - Stores authentication which can be used for example as a proxy in a SQL agent job.</li>
<li><strong>Database User</strong> - User in a database (mapped to a single login).</li>
<li><strong>Orphaned User</strong> - A database user without a login.</li>
<li><strong>Fixed Database-Level Roles</strong> - db_owner, db_Securityadmin, db_accessadmin, db_backupoperator, db_ddladmin, db_datawriter, db_datareader, db_denydatawriter, db_denydatareader.</li>
<li><strong>Flexible Database-Level Roles</strong> - create roles with custom database permissions.</li>
<li><strong>msdb Roles</strong> - The msdb database has a lot of specific roles that are worth noting.<ul>
<li>db_ssisadmin, db_ssisoperator, db_ssisltduser (SSIS)</li>
<li>dc_admin, dc_operator, dc_proxy (Data Collector)</li>
<li>ServerGroupAdministratorRole, ServerGroupReaderRole</li>
<li>dbm_monitor (mirroring)</li>
<li>PolicyAdministerRole</li>
<li>SQLAgentOperatorRole, SQLAgentReaderRole, SQLAgentUser</li>
</ul>
</li>
<li><strong>Partially Contained Database</strong> - Allows for connections without external dependencies on SQL logins.</li>
<li><strong>Contained User</strong> - Does not have login and applied directly to database.</li>
<li><strong>Principle of Least Privilege</strong> - Grant only access that is required.</li>
<li><strong>Application Role</strong> -  Allows application to access SQL database and not based on user credentials.  </li>
</ul>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><ul>
<li>ALTER ANY LOGIN permission required to create logins.</li>
<li>sys.server_principals catalog of logins.</li>
<li>sys.database_principals, sys.database_role_members, sys.database_permissions</li>
<li>ALTER ROLE and sp_addrolemember allow you to add members to roles.</li>
<li>Enabling of contained databases configured at the instance level. </li>
</ul>
<h3 id="Scripts"><a href="#Scripts" class="headerlink" title="Scripts"></a>Scripts</h3><p><strong>Create SQL Login</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> LOGIN [sql_user_c] <span class="keyword">WITH</span> <span class="keyword">PASSWORD</span>=N<span class="string">'P@ssw0rd'</span>;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Windows Login</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> LOGIN [sqla\local_group_b] <span class="keyword">FROM</span> WINDOWS;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Certificate</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> CERTIFICATE Richard_Griffiths</span><br><span class="line"><span class="keyword">WITH</span> SUBJECT = <span class="string">'Richard Griffiths certificate in master database'</span>,</span><br><span class="line">EXPIRY_DATE = <span class="string">'01/01/2020'</span>;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Login from Certificate</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> LOGIN [sqla\local_group_b] <span class="keyword">FROM</span> CERTIFICATE Richard_Griffiths;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Asymmetric Key</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> ASYMMETRIC <span class="keyword">KEY</span> sql_user_a <span class="keyword">WITH</span> ALGORITHM = RSA_2048;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Login from Asymmetric Key</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> LOGIN [sqla\local_group_b] <span class="keyword">FROM</span> ASYMMETRIC <span class="keyword">KEY</span> sql_user_a;</span><br></pre></td></tr></table></figure></p>
<p><strong>Alter a Login</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> LOGIN sql_user_a <span class="keyword">DISABLE</span>;</span><br></pre></td></tr></table></figure></p>
<p><strong>Catalog of Logins</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> sys.server_principals;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Credential</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> CREDENTIAL SSISStage <span class="keyword">WITH</span> <span class="keyword">IDENTITY</span> = <span class="string">'SSISStage'</span>, SECRET = <span class="string">'P@$w0rd'</span>;</span><br></pre></td></tr></table></figure></p>
<p><strong>Add Login to Server Role</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">SERVER</span> <span class="keyword">ROLE</span> bulkadmin <span class="keyword">ADD</span> <span class="keyword">MEMBER</span> [contoso\domain_group_b];</span><br></pre></td></tr></table></figure></p>
<p><strong>Identify Fixed Server Role Members</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sp_helpsrvrolemember;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create User Defined Server Role</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">SERVER</span> <span class="keyword">ROLE</span> Login_Manager;</span><br></pre></td></tr></table></figure></p>
<p><strong>Grant Permissions to User Defined Server Role</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALTER</span> <span class="keyword">ANY</span> LOGIN <span class="keyword">TO</span> Login_Manager;</span><br></pre></td></tr></table></figure></p>
<p><strong>Add Member to User Defined Server Role</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">SERVER</span> <span class="keyword">ROLE</span> Login_Manager <span class="keyword">ADD</span> <span class="keyword">MEMBER</span> [contoso\domain_group_b];</span><br></pre></td></tr></table></figure></p>
<p><strong>Check all Server Role Membership</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SP1.NAME <span class="keyword">AS</span> <span class="string">'RoleName'</span></span><br><span class="line">,SP2.NAME <span class="keyword">AS</span> <span class="string">'LoginName'</span></span><br><span class="line"><span class="keyword">FROM</span> SYS.SERVER_ROLE_MEMBERS M</span><br><span class="line"></span><br><span class="line"><span class="keyword">JOIN</span> sys.server_principals SP1 <span class="keyword">ON</span></span><br><span class="line">sp1.principal_id = m.role_principal_id</span><br><span class="line"></span><br><span class="line"><span class="keyword">JOIN</span> sys.server_principals SP2 <span class="keyword">ON</span></span><br><span class="line">sp2.principal_id = m.member_principal_id</span><br><span class="line"></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> sp1.name, sp2.name</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Database User</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> [SQLA\local_account_b] <span class="keyword">FOR</span> LOGIN [SQLA\local_account_b];</span><br></pre></td></tr></table></figure></p>
<p><strong>Detect Orphaned Database User</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> DBName;</span><br><span class="line">GO</span><br><span class="line">sp_change_users_login @Action='Report';</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Database Role</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">ROLE</span> TableAdmin;</span><br></pre></td></tr></table></figure></p>
<p><strong>Grant Permission to Database Role</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span> <span class="keyword">TO</span> TableAdmin;</span><br></pre></td></tr></table></figure></p>
<p><strong>Add Member to Database Role</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXEC sp_addrolemember 'TableAdmin','sql_user_c';</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Partially Contained Database</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> partialdb</span><br><span class="line">CONTAINMENT = <span class="keyword">PARTIAL</span>;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Partially Contained Windows User</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> partialdb;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> [contoso\contained_user_b];</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Partially Contained SQL User</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> partialdb;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> [contained_user_c] <span class="keyword">WITH</span> <span class="keyword">PASSWORD</span>=<span class="string">'Pa$$w0rd'</span>;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Application Role</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> DBNAME;</span><br><span class="line"><span class="keyword">CREATE</span> APPLICATION TOLE app_role_test <span class="keyword">WITH</span> <span class="keyword">PASSWORD</span> <span class="string">'P@$$w0rd'</span>;</span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SQL 2012 Admin Exam 05 Migrating Importing and Exporting]]></title>
      <url>www.datagriff.com/2016/11/SQL-2012-Admin-Exam-05-Migrating-Importing-and-Exporting/</url>
      <content type="html"><![CDATA[<p>The migrating wasn’t super exciting but the bulk inserts were :)</p>
<h3 id="Video-Exercises"><a href="#Video-Exercises" class="headerlink" title="Video Exercises"></a>Video Exercises</h3><ul>
<li>[SQL 2012 Migrate Using Backup and Restore] (<a href="https://youtu.be/FwKvXygmp48" target="_blank" rel="external">https://youtu.be/FwKvXygmp48</a>)</li>
<li>[SQL 2012 Migrate Using Database Copy Wizard] (<a href="https://youtu.be/DS9wzR9xEpk" target="_blank" rel="external">https://youtu.be/DS9wzR9xEpk</a>)</li>
<li>[SQL 2012 Open Firewall for Database Copy Wizard] (<a href="https://youtu.be/bZgsAVhIzDE" target="_blank" rel="external">https://youtu.be/bZgsAVhIzDE</a>)</li>
<li>[SQL 2012 Detach Attach] (<a href="https://youtu.be/hcB_qxE3CV4" target="_blank" rel="external">https://youtu.be/hcB_qxE3CV4</a>)</li>
<li>[SQL 2012 Migrate Logins Using Scripts] (<a href="https://youtu.be/_Ma-ZCnS_Hc" target="_blank" rel="external">https://youtu.be/_Ma-ZCnS_Hc</a>)</li>
<li>[SQL 2012 Create New Domain User] (<a href="https://youtu.be/IY1-fwU6cJA" target="_blank" rel="external">https://youtu.be/IY1-fwU6cJA</a>)</li>
<li>[SQL 2012 Import Export Wizard] (<a href="https://youtu.be/FMvzlJAJXQw" target="_blank" rel="external">https://youtu.be/FMvzlJAJXQw</a>)</li>
<li>[SQL 2012 BCP and BULK INSERT] (<a href="https://youtu.be/DTXowRhj4kg" target="_blank" rel="external">https://youtu.be/DTXowRhj4kg</a>)</li>
</ul>
<h3 id="Key-Terms"><a href="#Key-Terms" class="headerlink" title="Key Terms"></a>Key Terms</h3><ul>
<li><strong>Upgrade Advisor</strong> - You can run this against SQL 2005, 2008 and 2008 R2 to check if okay to upgrade to 2012.</li>
<li><strong>Distributed Replay Utility</strong> - Can simulate mission-critical work environments before upgrade.</li>
<li><strong>Detach and Attach Database</strong> - Allows you to migrate database across instances. Detached database must have no snapshots, no replication, not mirrored and not be a system database.</li>
<li><strong>Copy Database Wizard</strong> - Copy database across instances, choosing with Move means gets delete from source. Can copy server level objects too like jobs, logins, messages and can also schedule the move. You also create an SSIS package when creating the copy task.</li>
<li><strong>Backup and Restore</strong> - You can copy databases across instances using backup and restore. When copying from a previous version remember to use WITH MOVE.</li>
<li><strong>Generate and Publish Scripts Wizard</strong> - You can publish to a web hosting provider (web service) or produce a script to transfer a database.</li>
<li><strong>Import/Export Wizard</strong> - Useful tool in SSMS to easily transfer data. You can save the transfer as an SSIS package as long as user has appropriate msdb privileges.</li>
<li><strong>BCP Utility</strong> - bcp utility can copy data from database to file or file to database using command line.</li>
<li><strong>BULK INSERT</strong> - Run from database engine and can load data into a table from a file.</li>
<li><strong>OPENROWSET(BULK)</strong> - Connect to OLEDB linked server to bulk import data or insert from file via OLEDB provider.   </li>
</ul>
<h2 id="Tips-on-Bulk-Insert-Operations"><a href="#Tips-on-Bulk-Insert-Operations" class="headerlink" title="Tips on Bulk Insert Operations"></a>Tips on Bulk Insert Operations</h2><ul>
<li>Metadata same in source and destination objects</li>
<li>Use format file if inserting from fixed length fields</li>
<li>Can use a csv as data file</li>
<li>Requires select and insert permissions</li>
<li>Disable constraints</li>
<li>ADMINISTER BULK OPERATIONS permissions</li>
<li>Read permissions on file server</li>
<li>Cannot bulk insert into a partitioned view</li>
<li>Can bulk insert in parallel using multiple tools</li>
<li>Disable triggers</li>
<li>Order by from source on destination clustered index column.</li>
</ul>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><ul>
<li>You cannot upgrade from 32-bit to 64-bit and vice versa.</li>
<li>SQL 2012 requires windows server 2008 or later.</li>
<li>Pre-upgrade steps - DBCC commands to ensure consistent state, configured with AutoGrow enabled, disable startup procedures and replication, ensure enough disk space present.</li>
<li>When using copy database wizard attach detach method is faster but database goes offline, object method is slower but database stays online.</li>
<li>You can migrate SQL logins by scripting and source and executing on destination.</li>
<li>Cannot create partitioned table using SELECT INTO.</li>
</ul>
<h3 id="Scripts"><a href="#Scripts" class="headerlink" title="Scripts"></a>Scripts</h3><p><strong>Detach a Database</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="keyword">master</span>;</span><br><span class="line">GO</span><br><span class="line">EXEC sp_detach_db @dbname = [DBName];</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>Attach a Database</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="keyword">master</span>;</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> DBName <span class="keyword">ON</span> (FileName=<span class="string">'C:\FilePath\FileName.mdf'</span>),</span><br><span class="line">(FileName=<span class="string">'C:\FilePath\FileName_log.ldf'</span>) <span class="keyword">FOR</span> ATTACH;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>BCP From SQL into File</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bcp &quot;SELECT FirstName, LastName FROM AdventureWorks2012.Person.Person ORDER BY LastName, FirstName;&quot; queryout file.txt -c -T</span><br></pre></td></tr></table></figure></p>
<p><strong>BCP From File into SQL</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bcp DBName.SchemaName.TableName in C:\Data\file.txt -T -c</span><br></pre></td></tr></table></figure></p>
<p><strong>BULK INSERT into SQL</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BULK <span class="keyword">INSERT</span> DBName.SchemaName.TableName <span class="keyword">FROM</span> <span class="string">'C:\Data\file.txt'</span>;</span><br></pre></td></tr></table></figure></p>
<p><strong>OPENROWSET Bulk from File</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> T(XmlCol)  </span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> OPENROWSET(  </span><br><span class="line">   <span class="keyword">BULK</span> <span class="string">'c:\Folder\FileName.txt'</span>,  </span><br><span class="line">   SINGLE_BLOB) <span class="keyword">AS</span> x;</span><br></pre></td></tr></table></figure></p>
<p> <strong>OPENROWSET from OLEDB</strong><br> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a.*  </span><br><span class="line"><span class="keyword">FROM</span> OPENROWSET(<span class="string">'SQLNCLI'</span>, <span class="string">'Server=Seattle1;Trusted_Connection=yes;'</span>,  </span><br><span class="line">     <span class="string">'SELECT GroupName, Name, DepartmentID  </span><br><span class="line">      FROM AdventureWorks2012.HumanResources.Department  </span><br><span class="line">      ORDER BY GroupName, Name'</span>) <span class="keyword">AS</span> a;</span><br></pre></td></tr></table></figure></p>
<p>  <strong>OPENDATASOURCE from Excel INTO</strong><br>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">INTO</span> TableExcel <span class="keyword">FROM</span> OPENDATASOURCE(<span class="string">'Microsoft.Jet.OLEDB.4.0'</span>,  </span><br><span class="line"><span class="string">'Data Source=C:\DataFolder\Documents\TestExcel.xls;Extended Properties=EXCEL 5.0'</span>)...[Sheet1$] ;</span><br></pre></td></tr></table></figure></p>
<p>   <strong>OPENQUERY</strong><br>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OPENQUERY ( linked_server ,'query' )</span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SQL 2012 Admin Exam 04 Configuring Additional SQL Server Components]]></title>
      <url>www.datagriff.com/2016/10/SQL-2012-Admin-Exam-04-Configuring-Additional-SQL-Server-Components/</url>
      <content type="html"><![CDATA[<p>So on to the third chapter in 2 days! My brain may be slightly frazzled…</p>
<h3 id="Video-Exercises"><a href="#Video-Exercises" class="headerlink" title="Video Exercises"></a>Video Exercises</h3><ul>
<li><a href="https://youtu.be/tUWm6qNte20" target="_blank" rel="external">SQL 2012 Configure FILESTREAM</a></li>
<li><a href="https://youtu.be/h2615ZtaZXk" target="_blank" rel="external">SQL 2012 Create a FileTable</a></li>
<li><a href="https://youtu.be/B0XF02sHKeM" target="_blank" rel="external">SQL 2012 Create Full Text Index</a></li>
<li><a href="https://youtu.be/36D9HColDeY" target="_blank" rel="external">SQL 2012 Create Partitioned Table</a></li>
<li><a href="https://youtu.be/ugrzwf8ZPzw" target="_blank" rel="external">SQL 2012 Transparent Data Encryption</a></li>
<li><a href="https://youtu.be/PLfL7FZbnWs" target="_blank" rel="external">SQL 2012 Data Compression</a></li>
<li><a href="https://youtu.be/DJ_LFyEylIU" target="_blank" rel="external">SQL 2012 Managing Transaction Logs</a></li>
</ul>
<h3 id="Key-Terms"><a href="#Key-Terms" class="headerlink" title="Key Terms"></a>Key Terms</h3><ul>
<li><strong>Full-Text Indexing</strong> - Stores significant words and their location. There can be only one per table or indexed view and can contain up to 1024 columns. This can then be used in querying used commands like CONTAINSTABLE and FREETEXTTABLE.</li>
<li><strong>FileStream</strong> - Allows SQL Server to store unstructured data like files and documents (BLOBs, Binary Large Objects).</li>
<li><strong>FileTables</strong> - Allows you to store files and documents in SQL server and can be accessed via applications as if they were stored in file system.</li>
<li><strong>Contained Database</strong> - All settings and properties within database and can connect without authentication at server level.</li>
<li><strong>Row-Level Compression</strong> - Less CPU than page but not as efficient and useful for fixed length data types.</li>
<li><strong>Page-Level Compression</strong> - More CPU that row and compresses repeating data.</li>
<li><strong>Unicode Compression</strong>- - Good for NVARCHAR and NCHAR types.</li>
<li><strong>Transparent Data Encryption (TDE)</strong> - Encrypts database that requires no extra effort in application layer.</li>
<li><strong>Partition Function</strong> - Defines how rows of index map to partitions based on values of Partitioning column.</li>
<li><strong>Partition Scheme</strong> - Maps partition function to filegroups.</li>
<li><strong>Partitioning Column</strong> -Column or index that partition function uses.</li>
<li><strong>Aligned Index</strong> - Index that uses same partition scheme as the table to which it belongs.</li>
<li><strong>NonAligned Index</strong> - Index independently partition from table to which it belongs.</li>
<li><strong>Partition Elimination</strong> - Optimiser can access only partitions it needs for query.</li>
</ul>
<p><strong>There are a shedload of <a href="">DBCC Commands..</a></strong></p>
<ul>
<li><strong>Maintenance</strong> - DBCC CLEANTABLE, DBCC DBREINDEX, DBCC DROPCLEANBUFFERS, DBCC FREEPROCCACHE, DBCC INDEXDEFRAG, DBCC SHRINKDATABSE, DBCC SHRINKFILE, DBCC UPDATEUSAGE</li>
<li><strong>Informational</strong> -  DBCC INPUTBUFFER, DBCC OPENTRAN, DBCC OUTPUTBUFFER, DBCC PROCACHE, DBCC SHOW_STATISICS, DBCC SHOWCONTIG, DBCC SQLPERF, DBCC TRACESTATUS, DBCC USEROPTIONS</li>
<li><strong>Validation</strong> -  DBCC CHECKALLOC, DBCC CHECKCATALOG, DBCC CHECKCONSTRAINTS, DBCC CHECKDB, DBCC CHECKFILEGROUP, DBCC CHECKIDENT, DBCC CHECKTABLE</li>
<li><strong>Miscellaenous</strong> -  DBCC dllname (FREE), DBCC FREESESSIONCACHE, DBCC HELP, DBCC TRACEOFF</li>
</ul>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><ul>
<li>DComconfg.exe is a tool to give non-admin users access to IS.</li>
<li>Reporting Services Configuration manager is how you would changed the RS execution account.</li>
<li>To enable FILESTREAM you must edit properties of SQL server Service in SQL Server Configuration manager.</li>
<li>FILESTREAM steps: SQL Server Config Manager &gt; Properties &gt; FILESTREAM enable &gt; sp_configure &gt; Restart &gt; FILESTREAM Filegroup &gt; FILESTREAM Filegroup</li>
<li>FileTable steps: Enable FILESTREAM &gt; NON_TRANSACTED_ACCESS = FULL on Database &gt; Create table as FileTable</li>
<li>TDE Steps: Create master encryption key &gt; Certificate &gt; Database Encryption Key &gt; Encrypt database</li>
</ul>
<h3 id="Scripts"><a href="#Scripts" class="headerlink" title="Scripts"></a>Scripts</h3><p><strong>Install AS from Command-Line in MultiDimensional Mode</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Setup.exe /q /IAcceptSQLServerLicenseTerms /Action=install /Features=AS /ASSERVERMODE=MULTIDIMENSIONAL /INSTANCENAME=ASMulti /ASSVCACCOUNT=contoso\kim_akers /ASSYSADMINACCOUNTS=contoso\kim_akers</span><br></pre></td></tr></table></figure></p>
<p><strong>Install AS from Command-Line in Tabular Mode</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Setup.exe /q /IAcceptSQLServerLicenseTerms /Action=install /Features=AS /ASSERVERMODE=TABULAR /INSTANCENAME=ASTabular /ASSVCACCOUNT=contoso\kim_akers /ASSYSADMINACCOUNTS=contoso\kim_akers</span><br></pre></td></tr></table></figure></p>
<p><strong>Install AS from Command-Line in PowerPivot Mode</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Setup.exe /q /IAcceptSQLServerLicenseTerms /Action=install /Features=AS /ASSERVERMODE=POWERPIVOT /INSTANCENAME=ASPower /ASSVCACCOUNT=contoso\kim_akers /ASSYSADMINACCOUNTS=contoso\kim_akers</span><br></pre></td></tr></table></figure></p>
<p><strong>Powershell RS Prerequisite 01</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Import-module ServerManager</span><br></pre></td></tr></table></figure></p>
<p><strong>Powershell RS Prerequisite 02</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Add-WindowsFeature Web-Server -IncludeAllSubfeature</span><br></pre></td></tr></table></figure></p>
<p><strong>Install RS from Command-Line</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setup.exe /q /IAcceptSQLServerLicenseTerms /Action=instal/ Features=SQL,RS,TOOLS /INSTANCENAME=RPTSVR /SQLSYSADMINACCOUNTS=&quot;BUILTIN\ADMINISTRATORS&quot; /RSSVCACCOUNT=NetworkService /SQLSVCACCOUNT=NetworkService /AGTSVCACCOUNT=NetworkService /RSSVCSTARTUPTYPE=&quot;Manual&quot; /RSINSTALLMODE=&quot;DefaultNativeMode&quot;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Full Text Catalog</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> DbName;</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">CREATE</span> FULLTEXT <span class="keyword">CATALOG</span> CatalogName;</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">CREATE</span> FULLTEXT <span class="keyword">INDEX</span> <span class="keyword">ON</span> SchemaName.TableName</span><br><span class="line">(</span><br><span class="line">Column1, Column2, Column3</span><br><span class="line">)</span><br><span class="line"><span class="keyword">KEY</span> <span class="keyword">INDEX</span> PK_SchemaName_TabName_Column1</span><br><span class="line"><span class="keyword">ON</span> CatalogName;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>Drop Full Text Catalog</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> FULLTEXT <span class="keyword">INDEX</span> <span class="keyword">ON</span> SchemaName.TableName;</span><br></pre></td></tr></table></figure></p>
<p><strong>Configure FILESTREAM to allow T-SQL and Win32 Streaming</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EXEC sp_configure filestream_access_level, 2</span><br><span class="line">RECONFIGURE</span><br></pre></td></tr></table></figure></p>
<p><strong>Create a FILESTREAM FileGroup</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> DBName <span class="keyword">ADD</span></span><br><span class="line">FILEGROUP FileStreamFG CONTAINS FILESTREAM;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create a FILESTREAM File</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="keyword">master</span>;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> DBName <span class="keyword">ADD</span> <span class="keyword">FILE</span></span><br><span class="line">( <span class="keyword">NAME</span> = FileStrmFile</span><br><span class="line">, FILENAME = N<span class="string">'C:\FSTRM'</span>)</span><br><span class="line"><span class="keyword">TO</span> FILEGROUP FileStreamFG;</span><br></pre></td></tr></table></figure></p>
<p><strong>Enable FILESTREAM NON_TRANSACTED_ACCESS</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="keyword">master</span>;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> DBName</span><br><span class="line"><span class="keyword">SET</span> FILESTREAM (NON_TRANSACTED_ACCESS = <span class="keyword">FULL</span>, DIRECTORY_NAME = N<span class="string">'directory'</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>Create FileTable</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> DocStore <span class="keyword">AS</span> FileTable;</span><br></pre></td></tr></table></figure></p>
<p><strong>Row-Level Compression</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> TabName <span class="keyword">REBUILD</span> <span class="keyword">WITH</span> (DATA_COMPRESSION=<span class="keyword">ROW</span>);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">INDEX</span> idx_Name <span class="keyword">ON</span> TabName <span class="keyword">REBUILD</span> <span class="keyword">WITH</span> (DATA_COMPRESSION=<span class="keyword">ROW</span>);</span><br></pre></td></tr></table></figure></p>
<p><strong>Page-Level Compression</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> TabName <span class="keyword">REBUILD</span> <span class="keyword">WITH</span> (DATA_COMPRESSION=PAGE);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">INDEX</span> idx_Name <span class="keyword">ON</span> TabName <span class="keyword">REBUILD</span> <span class="keyword">WITH</span> (DATA_COMPRESSION=PAGE);</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Partition Function</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PARTITION</span> <span class="keyword">FUNCTION</span> PartFun ( <span class="built_in">INT</span> )</span><br><span class="line"><span class="keyword">AS</span> <span class="keyword">RANGE</span> <span class="keyword">LEFT</span> <span class="keyword">FOR</span> <span class="keyword">VALUES</span> (<span class="number">100</span>,<span class="number">200</span>);</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Partition Scheme</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PARTITION</span> SCHEME PartScheme</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line">	<span class="keyword">PARTITION</span> PartFun</span><br><span class="line">	<span class="keyword">TO</span> (FG1, FG2, FG3)</span><br><span class="line"><span class="keyword">GO</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Create Partitioned Table</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">Test</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">id</span> <span class="built_in">int</span>,</span><br><span class="line"><span class="keyword">value</span> <span class="built_in">char</span>(<span class="number">30</span>)</span><br><span class="line">) <span class="keyword">on</span> PartScheme(<span class="keyword">id</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>Transparent Data Encryption (TDE) Part 1 - Create Master Key</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="keyword">master</span>;</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">MASTER</span> <span class="keyword">KEY</span> ENCRYPTION <span class="keyword">BY</span> <span class="keyword">PASSWORD</span> = <span class="string">'Password'</span>;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>TDE Part 2 - Create Certificate</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="keyword">master</span>;</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">CREATE</span> CERTIFICATE ServerCert <span class="keyword">WITH</span> SUBJECT = <span class="string">'Server Cert'</span>;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>TDE Part 3 - Create Database Encryption Key (DEK)</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> DBName;</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> ENCRYPTION <span class="keyword">KEY</span></span><br><span class="line"><span class="keyword">WITH</span> ALGORITHM = AES_128</span><br><span class="line">ENCRYPTION <span class="keyword">BY</span> <span class="keyword">SERVER</span> CERTIFICATE ServerCert;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>TDE Part 4 - Enable Encryption</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="keyword">master</span>;</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> DBName</span><br><span class="line"><span class="keyword">SET</span> ENCRYPTION <span class="keyword">ON</span>;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>TDE Backup Certificate</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BACKUP</span> CERTIFICATE ServerCert</span><br><span class="line"><span class="keyword">TO</span> <span class="keyword">FILE</span> = <span class="string">'ServerCertExport'</span></span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">PRIVATE</span> <span class="keyword">KEY</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">FILE</span>=<span class="string">'PrivateKeyFile'</span>,</span><br><span class="line">    ENCRYPTION <span class="keyword">BY</span> <span class="keyword">PASSWORD</span> = <span class="string">'Password'</span></span><br><span class="line">);</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>Add a Log File</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> [<span class="keyword">master</span>]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> [DBName] <span class="keyword">ADD</span> <span class="keyword">LOG</span> <span class="keyword">FILE</span></span><br><span class="line">( <span class="keyword">NAME</span> = N<span class="string">'LogFile2'</span></span><br><span class="line">, FILENAME = N<span class="string">'FilePath'</span></span><br><span class="line">, <span class="keyword">SIZE</span> = <span class="number">1024</span>KB , FILEGROWTH = <span class="number">10</span>%)</span><br><span class="line"><span class="keyword">GO</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Trigger a Log CheckPoint</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CHECKPOINT;</span><br></pre></td></tr></table></figure></p>
<p><strong>Check to see Log Space Used</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DBCC SQLPERF(LOGSPACE);</span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SQL 2012 Admin Exam 03 Configuring and Managing Instances]]></title>
      <url>www.datagriff.com/2016/10/SQL-2012-Admin-Exam-03-Configuring-and-Managing-Instances/</url>
      <content type="html"><![CDATA[<p>So on to the second chapter in 2 days, having to smash it on the weekend when I can!</p>
<h3 id="Video-Exercises"><a href="#Video-Exercises" class="headerlink" title="Video Exercises"></a>Video Exercises</h3><ul>
<li><a href="https://www.youtube.com/watch?v=cEaCRPlMUr8&amp;index=14&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1" target="_blank" rel="external">SQL 2012 Configure Min Memory and Fill Factor</a></li>
<li><a href="https://www.youtube.com/watch?v=HV_0K9Gjwso&amp;index=15&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1" target="_blank" rel="external">SQL 2012 Configuring Resource Governor</a></li>
<li><a href="https://www.youtube.com/watch?v=TLzhw3Z-hSA&amp;index=8&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1" target="_blank" rel="external">SQL 2012 Configure Database Mail</a></li>
<li><a href="https://www.youtube.com/watch?v=J_2Es-3Euq0&amp;index=9&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1" target="_blank" rel="external">SQL 2012 Modeldb to Standardise Databases</a></li>
<li><a href="https://www.youtube.com/watch?v=0V0Y6qyakRo&amp;index=10&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1" target="_blank" rel="external">SQL 2012 Install Extra Instance</a></li>
<li><a href="https://www.youtube.com/watch?v=CzIKDKzFV30&amp;index=11&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1" target="_blank" rel="external">SQL 2012 Connect Extra Instance</a></li>
<li><a href="https://www.youtube.com/watch?v=4XXAMHL1Reg&amp;index=12&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1" target="_blank" rel="external">SQL 2012 Firewall Extra Instance</a></li>
<li><a href="https://www.youtube.com/watch?v=WudFEC14Noc&amp;index=13&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1" target="_blank" rel="external">SQL 2012 Cycle Error Log</a></li>
</ul>
<h3 id="Key-Terms"><a href="#Key-Terms" class="headerlink" title="Key Terms"></a>Key Terms</h3><ul>
<li><strong>Fill Factor</strong> - This is the percentage of disk space taken up in an indexes leaf node.</li>
<li><strong>Process Affinity</strong> - Assigns worker threads to specific server processors (CPUs).</li>
<li><strong>I/O Affinity</strong> - Binds instance disk I/O operations to specific set of CPUs.</li>
<li><strong>Model Database</strong> - The model database allows for standardisation of databases being created. For example if you set the model database recovery mode to SIMPLE and create a new database on that instance, the new database will have SIMPLE recover mode also.</li>
<li><strong>Distributed Transaction Coordinator (MSDTC)</strong> - Needed for when installing integration services and have transactions across servers (not needed across instances on same server).  </li>
<li><strong>Resource Governor</strong> - Allows only certain amount of resource to be used in a <strong>resource pool</strong> that you assign <strong>workload groups</strong> to. Found under management node and only available for database engine. Works on a per instance basis.</li>
<li><strong>Windows System Resource Manager (WSRM)</strong> - Allocate system resources to specific processes such as different database engine instances. Therfore this configures resource across instances unlike resource governor which is within instance. You can configure CPU equal per process, equal per user or equal per session.</li>
</ul>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><ul>
<li>Instance level settings include general, memory, processors, security, connections, database settings, advanced and permissions.</li>
<li>Use memory settings to balance memory across instances.</li>
<li>Database mail configured under management and you create a profile then accounts within the profile. You can have public profiles that can be accessed by any DBMail users and private where must be an msdb user.</li>
<li>Remember to run Reconfigure after sp_configure.</li>
<li>You can create classifier functions for resource governor that allow for dynamic allocation of resources that can be sourced from a configuration table. e.g. for Day and Night working.</li>
<li>You can cycle the SQL error and SQL agent error log and also configure maximum number of error log files.</li>
<li>You can deploy 50 instances of SQL server on a non-clustered server running windows server 2008 R2 enterprise.</li>
</ul>
<h3 id="Scripts"><a href="#Scripts" class="headerlink" title="Scripts"></a>Scripts</h3><p><strong>Configure a Server (Min and Max Memory)</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">EXEC sys.sp_configure '<span class="keyword">show</span> <span class="keyword">advanced</span> options<span class="string">', 1</span><br><span class="line">GO</span><br><span class="line">RECONFIGURE</span><br><span class="line">EXEC sys.sp_configure '</span><span class="keyword">min</span> <span class="keyword">server</span> <span class="keyword">memory</span><span class="string">', 1024</span><br><span class="line">GO</span><br><span class="line">EXEC sys.sp_configure '</span><span class="keyword">max</span> <span class="keyword">server</span> <span class="keyword">memory</span><span class="string">', 8096</span><br><span class="line">GO</span><br><span class="line">RECONFIGURE</span><br><span class="line">GO</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Configure a Server (Fill Factor)</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">EXEC sys.sp_configure '<span class="keyword">show</span> <span class="keyword">advanced</span> options<span class="string">', 1</span><br><span class="line">GO</span><br><span class="line">RECONFIGURE</span><br><span class="line">EXEC sys.sp_configure '</span>fill factor<span class="string">', 90</span><br><span class="line">GO</span><br><span class="line">RECONFIGURE</span><br><span class="line">GO</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Configure Affinity (sql workload across CPUs 2 and 3)</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">SERVER</span> CONFIGURATION <span class="keyword">SET</span> PROCESS AFINITIY CPE = <span class="number">2</span>,<span class="number">3</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Configure Affinity (sql workload across all CPUs)</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">SERVER</span> CONFIGURATION <span class="keyword">SET</span> PROCESS AFINITIY CPE = <span class="keyword">AUTO</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Set Model Database Recovery Mode to Simple</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> [<span class="keyword">master</span>]</span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> [<span class="keyword">model</span>] <span class="keyword">SET</span> <span class="keyword">RECOVERY</span> <span class="keyword">FULL</span> <span class="keyword">WITH</span> NO_WAIT</span><br><span class="line"><span class="keyword">GO</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Enable Database Mail</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">EXEC sys.sp_configure '<span class="keyword">show</span> <span class="keyword">advanced</span> options<span class="string">', 1</span><br><span class="line">GO</span><br><span class="line">RECONFIGURE</span><br><span class="line">EXEC sys.sp_configure '</span><span class="keyword">Database</span> Mail XPs<span class="string">', 1</span><br><span class="line">GO</span><br><span class="line">RECONFIGURE</span><br><span class="line">GO</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Create Database Mail Account</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EXEC msdb.dbo.sysmail_add_account_sp</span><br><span class="line">@account_name = 'Griff'</span><br><span class="line">,@email_Address = 'griff@datagriff.com'</span><br><span class="line">,@mailserver_name = 'smtp.datagriff.com'</span><br></pre></td></tr></table></figure></p>
<p><strong>Configure Database Mail</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EXEC msdb.dbo.sysmail_configure_sp</span><br><span class="line">'AccounttretryAttempts',15;</span><br></pre></td></tr></table></figure></p>
<p><strong>Install Non-Default Instance on SQL Core</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Setup.exe /qs /Action=Install /Features=SQLEngine /INstanceName=Alternate /SQLSYSADMINACCOUNTS=&quot;Contoso\Kim_Akers&quot; /IACCEPTSQLSERVERLICENSETERMS</span><br></pre></td></tr></table></figure></p>
<p><strong>Update Patch on Core</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Package_name&gt;.exe /qs /IACCEPTSQLSERVERLICENSETERMS /Action=Patch /InstanceName=ALTERNATE</span><br></pre></td></tr></table></figure></p>
<p><strong>Remove Patch on Core</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Package_name&gt;.exe /qs /IACCEPTSQLSERVERLICENSETERMS /Action=RemovePatch /InstanceName=ALTERNATE</span><br></pre></td></tr></table></figure></p>
<p><strong>Enable Resource Governor</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">RESOURCE</span> GOVERNOR RECONFIGURE;</span><br></pre></td></tr></table></figure></p>
<p><strong>Disable Resource Governor</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">RESOURCE</span> GOVERNOR <span class="keyword">DISABLE</span>;</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Resource Pool</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">RESOURCE</span> POOL poolTest</span><br><span class="line"><span class="keyword">WITH</span> (MIN_CPU_PERCENT=<span class="number">25</span>);</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">RESOURCE</span> GOVERNOR RECONFIGURE;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>Create Workload Group</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> WORKLOAD <span class="keyword">GROUP</span> groupTest</span><br><span class="line"><span class="keyword">USING</span> poolTest;</span><br><span class="line">GO</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">RESOURCE</span> GOVERNOR RECONFIGURE;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>Use Resource Governor Classifier Function (user created)</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">RESOURCE</span> GOVERNOR <span class="keyword">WITH</span> (CLASSIFIER_FUNCTION=dbo.DayNightClassifier)</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">RESOURCE</span> GOVERNOR RECONFIGURE</span><br><span class="line"><span class="keyword">GO</span></span><br></pre></td></tr></table></figure></p>
<p><strong>Cycle SQL Error Log</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EXEC sp_cycle_errorlog;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>Cycle SQL Agent Error Log</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> msdb;</span><br><span class="line">EXEC sp_cycle_agent_errorlog;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SQL 2012 Admin Exam 02 Planning And Installing]]></title>
      <url>www.datagriff.com/2016/10/SQL2012AdminExam02PlanningAndInstalling/</url>
      <content type="html"><![CDATA[<p>So I’m on to the actual first chapter of the Administration book! Still a long way to go but here’s what I learned…</p>
<h3 id="Video-Exercises"><a href="#Video-Exercises" class="headerlink" title="Video Exercises"></a>Video Exercises</h3><ul>
<li><a href="https://www.youtube.com/watch?v=I22ATtPU6QI&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1&amp;index=1" target="_blank" rel="external">SQL 2012 Configuration Checker</a></li>
<li><a href="https://www.youtube.com/watch?v=C--Spuldyps&amp;t=1s&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1&amp;index=2" target="_blank" rel="external">SQL 2012 Configure Firewall Rule</a></li>
<li><a href="https://www.youtube.com/watch?v=8PQ7hfeqdiw&amp;t=1s&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1&amp;index=3" target="_blank" rel="external">SQL 2012 Configure Firewall Rule Properly</a></li>
<li><a href="https://www.youtube.com/watch?v=7IbOerftR9o&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1&amp;index=4" target="_blank" rel="external">SQL 2012 Install</a></li>
<li><a href="https://www.youtube.com/watch?v=QKEiweNexD4&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1&amp;index=5" target="_blank" rel="external">SQL 2012 Add Features to an Installation</a></li>
<li><a href="https://www.youtube.com/watch?v=1v_ukk--kBw&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1&amp;index=6" target="_blank" rel="external">SQL 2012 Core Install</a></li>
<li><a href="https://www.youtube.com/watch?v=UUnGAg6bPAM&amp;list=PLA5YLvtN7pNP2t5SXqdyVfxvtla7oUwC1&amp;index=7" target="_blank" rel="external">SQL 2012 Attach a Database</a></li>
</ul>
<h3 id="Key-Terms"><a href="#Key-Terms" class="headerlink" title="Key Terms"></a>Key Terms</h3><ul>
<li><strong>Scaling up</strong> - Increasing system resources on current server. e.g. adding more RAM.</li>
<li><strong>Scaling out</strong> - Increase capacity across servers. e.g. AlwaysOn with readable secondaries.  </li>
<li><strong><a href="https://www.microsoft.com/en-gb/download/details.aspx?id=20163" target="_blank" rel="external">SQLIO</a></strong> - Checks I/O capacity before SQL server deployed. Tests IOPS (I/Os per second), throughput (MB/s) and latency.    </li>
<li><strong><a href="https://support.microsoft.com/en-gb/kb/231619" target="_blank" rel="external">SQLIOSIM</a></strong> - Simulate read, write, checkpoint, backup, sort and read0ahead activities for SQL server.     </li>
<li><strong><a href="https://en.wikipedia.org/wiki/CHKDSK" target="_blank" rel="external">Chkdsk</a></strong> - Tool that checks for disk errors.</li>
<li><strong>Port 1433</strong> - Database engine default instance.</li>
<li><strong>Port 1434</strong> - Dedicated admin connection.</li>
<li><strong>ConfigurationFile.ini</strong> - Stores installation settings and can reuse to ensure that same installation carried out for multiple servers. This is an example path C:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\Log\20161030_014418\ConfigurationFile.ini.</li>
</ul>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><ul>
<li>Consider operating system, processor, RAM, hard disk, software and virtualization requirements.</li>
<li>In general think newer OS for more high spec SQL.</li>
<li>64-bit version of most SQL editions require 1.4Ghz minimum or recommended 2.0Ghz processor.</li>
<li>Minimum RAM is 1GB with recommend 4GB.</li>
<li>Express can do 512MB minimum ram with 1GB recommended.</li>
<li>You can’t install reporting services on Windows Server 2008 R2 SP1 Enterprise Edition in Server Core Configuration.</li>
<li>Can’t install 64-bit Enterprise SQL 2012 on Windows 7 or Windows Server 2003.</li>
<li>SSIS can only run on servers.</li>
<li>Be careful when implementing the firewall allow program rule through, should use the % path and not direct drive letter e.g.<br><strong>%ProgramFiles%\Microsoft SQL Server\MSSQL11.MSSQLSERVER\MSSQL\Binn\sqlservr.exe</strong> Where MSSQLSERVER is the instance name!</li>
<li>You can see what features are installed on SQL Server instance using a <a href="https://blogs.msdn.microsoft.com/samlester/2013/06/13/sql-server-2012-discovery-report-determining-what-sql-server-components-are-installed/" target="_blank" rel="external">HTML summary report</a> which is dont via installation centre.</li>
<li>You can run SSIS in 32-bit mode on 64-bit machine if have SSDT installed.</li>
<li>Use Add/Remove programs to remove a feature.</li>
<li>Developer edition is good for developers as license is okay and same features as Enterprise.</li>
<li>Make sure 4GB of space on operating system before installing SQL 2012.</li>
<li>Remember to add current user as admin when installing, though you will be prompted anyway.</li>
</ul>
<h3 id="Scripts"><a href="#Scripts" class="headerlink" title="Scripts"></a>Scripts</h3><p><strong>Grow a database</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="keyword">master</span>;</span><br><span class="line">    <span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> [DBName] <span class="keyword">MODIFY</span> <span class="keyword">FILE</span></span><br><span class="line">      (<span class="keyword">Name</span>=N<span class="string">'DBName_Data'</span>), <span class="keyword">SIZE</span>=<span class="number">256000</span>KB;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>Shrink a database</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> DBName;</span><br><span class="line">GO</span><br><span class="line">DBCC SHRINKDATABASE(N'DBName')</span><br><span class="line">GO</span><br></pre></td></tr></table></figure></p>
<p><strong>Add a File</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> DBName</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">FILE</span></span><br><span class="line">(</span><br><span class="line">    <span class="keyword">NAME</span> = DBName1,</span><br><span class="line">    FILENAME = <span class="string">'C:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\DBName1.ndf'</span>,</span><br><span class="line">    <span class="keyword">SIZE</span> = <span class="number">100</span>MB,</span><br><span class="line">    <span class="keyword">MAXSIZE</span> = <span class="number">1000</span>MB,</span><br><span class="line">    FILEGROWTH = <span class="number">5</span>MB</span><br><span class="line">)</span><br><span class="line"><span class="keyword">TO</span> FILEGROUP PRIMARY;</span><br></pre></td></tr></table></figure></p>
<p><strong>Add a FileGroup</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> DBName</span><br><span class="line">  <span class="keyword">ADD</span> FILEGROUP DBName_2;</span><br></pre></td></tr></table></figure></p>
<p><strong>Example Core Command-Line Installing SQL</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Setup.exe /qs /ACTION=Install /FEATURES=SQLEngine,Replication /INSTANCENAME=MSSQLSERVER /SQLSVCACCOUNT=&quot;&lt;DomainName\UserName&gt;&quot; /SQLSVCPASSWORD=&quot;&lt;StrongPassword&gt;&quot; /SQLSYSADMINACCOUNTS=&quot;&lt;DomainName\UserName&gt;&quot; /AGTSVCACCOUNT=&quot;NT AUTHORITY\Network Service&quot; /TCPENABLED=1 /IACCEPTSQLSERVERLICENSETERMS</span><br></pre></td></tr></table></figure></p>
<p><strong>Command-Line Connect to Another Server</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sqlcmd.exe -S ServerName</span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SQL 2012 Admin Exam 01 Prepare Environment]]></title>
      <url>www.datagriff.com/2016/10/SQL-2012-Admin-Exam-01-Prepare-Environment/</url>
      <content type="html"><![CDATA[<p><strong>Introduction</strong></p>
<p>So I’ve decided to take the <a href="https://www.microsoft.com/en-us/learning/exam-70-462.aspx" target="_blank" rel="external">SQL 2012 DBA 70-462 Exam</a>, it’s my last of the three for the MCSA and probably my weakest skill. I’ve given myself about 40 days from yesterday to get up to speed so this should be fun.</p>
<p><strong>What this is about</strong></p>
<ul>
<li>Resources</li>
<li>Environment Setup: How fun this turned out to be!</li>
<li>Command-Line: What I learned from above.</li>
</ul>
<h3 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h3><p>Okay so I’m pretty much going to stick to my tried and tested - get the <a href="https://www.amazon.co.uk/Training-Kit-Exam-70-462-Administering-ebook/dp/B00IG2OS3Y/ref=sr_1_1?ie=UTF8&amp;qid=1477226838&amp;sr=8-1&amp;keywords=sql+70-462" target="_blank" rel="external">certification book</a>, <a href="https://www.microsoft.com/en-gb/learning/certification-exams.aspx" target="_blank" rel="external">book the exam</a> and get to work.<br>I’ll also watch the <a href="https://mva.microsoft.com/en-US/training-courses/administering-microsoft-sql-server-2012-jump-start-8259?l=70lJ0hKy_7704984382" target="_blank" rel="external">Microsoft Virtual Academy</a> stuff and anything else I find of interest on youtube (e.g. <a href="https://www.youtube.com/watch?v=rWwGPihzgOg" target="_blank" rel="external">Passing 70462</a>) as I go along.<br>Based on the book you’re also going to need the following downloads:</p>
<ul>
<li><a href="https://www.microsoft.com/en-GB/evalcenter/evaluate-windows-server-2012" target="_blank" rel="external">Windows Server 2012 Evaluation</a></li>
<li><a href="https://www.microsoft.com/en-gb/download/details.aspx?id=29066" target="_blank" rel="external">SQL Server 2012 Evaluation</a></li>
<li><a href="https://msftdbprodsamples.codeplex.com/releases/view/55330" target="_blank" rel="external">Adventureworks Database</a></li>
</ul>
<h3 id="Environment-Setup"><a href="#Environment-Setup" class="headerlink" title="Environment Setup"></a>Environment Setup</h3><p>Based on the book instructions to setup the lab environment to be able to carry out the exercises… I think they expect you to be some kind of infrastructure architect off the bat. I can tell you this, I am most certainly not. This became quite painful for me and I though “Christ I haven’t even started the book and this has taken me forever!”.<br>So after failed attempts of creating the environment in <a href="http://www.sqlservercentral.com/articles/certification/128503/" target="_blank" rel="external">Azure</a> (Costs and Speed) and failed attempts at doing it myself - I found this wonderful <a href="https://toddkleinhans.wordpress.com/" target="_blank" rel="external">page</a> by, who is now a god in my mind, Todd Kleinhans. Thank you so much.</p>
<p><strong>Just in case you missed it above, here again is the <a href="https://toddkleinhans.wordpress.com/" target="_blank" rel="external">page</a> with all the wonderful instructions.</strong></p>
<p>So if you follow the instructions in the word document attached to the page above you’ll be fine.<br>Highlights from it include:</p>
<ul>
<li>Download the trial version of <a href="http://www.vmware.com/uk/products/workstation/workstation-evaluation.html" target="_blank" rel="external">VMWare Pro</a>, the free version doesn’t include snapshots. (yet another time constraint for me to get this done in 30 days!)</li>
<li>Use <a href="https://www.microsoft.com/en-GB/evalcenter/evaluate-windows-server-2012" target="_blank" rel="external">Windows Server 2012</a> instead of 2008 - make sure change from default “update” to custom install during the installation or you’ll get stuck in an idiot loop like me.</li>
<li>As soon as you’ve installed Windows create shortcuts for administrative tools and command prompt, I found the operating system layout a bit windows 8 and a bugger to navigate through.</li>
<li>Make sure you tick DNS when installing the Domain Controller - this was a stupid mistake I made as I excitedly rushed through the instructions.</li>
<li>Make sure click the “new forest” option in Active Directory Domain Services Configuration Wizard when configuring the domain controller.</li>
<li>Be careful when copying and pasting the instructions for SQLA (yes it says this but I still managed to go on autopilot and mess it up)</li>
<li>Basically… <strong>READ THE INSTRUCTIONS AND FOLLOW THEM ALL - THEY ARE GOOD.</strong>  </li>
<li>Although I did have an issue with the SQLCORE installation and had to run the sysprep thing just like the other servers, this wasn’t explicitly mentioned in the instructions.</li>
<li>Share your network drives for resources from your actual machine in the VM to make life easier.</li>
</ul>
<h3 id="Command-Line-I-learned-from-above"><a href="#Command-Line-I-learned-from-above" class="headerlink" title="Command-Line I learned from above"></a>Command-Line I learned from above</h3><p>Getting the name of the local area connection - this is not always Ethernet so check!<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh int ip show int</span><br></pre></td></tr></table></figure></p>
<p>Change an IP address.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh interface ipv4 set address &quot;Local Area connection&quot; static 10.10.10.10 #Change IP Address</span><br></pre></td></tr></table></figure></p>
<p>Okay I knew this one - getting the IP details for the machine you’re on.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipconfig</span><br></pre></td></tr></table></figure></p>
<p>Getting the name of the computer.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostname</span><br></pre></td></tr></table></figure></p>
<p>Renaming a machine.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netdom renamecomputer %computername% /newname:DC</span><br></pre></td></tr></table></figure></p>
<p>Join a machine to a network<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netdom join ComputerName /domain:domainname.com</span><br></pre></td></tr></table></figure></p>
<p>Reboot a machine.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown /r /t 0</span><br></pre></td></tr></table></figure></p>
<p>I don’t think this did anything but may need it if get failed to configure DHCP error…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh int ip reset</span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SQL Relay 2016 - Build a Database for free with Team Services Online, SSDT and Azure]]></title>
      <url>www.datagriff.com/2016/10/SQLRelay2016DIYDBFromHome/</url>
      <content type="html"><![CDATA[<p>I am speaking again at SQL Relay this year and I decided to cover some of the basics. It was only about 18 months ago I had never used source control, never used any cloud services and it all seemed quite beyond me… But it’s not!<br>The aim of my talk this year is to hopefully speed up this process for people who find themselves in a similar situation that I was in and show all the free tools and resources that are available to you.</p>
<a href="/2016/10/SQLRelay2016DIYDBFromHome/zSQLRelay2016DIYDBFromHomeSlideShow.html" title="SQL Relay 2016 Presentation">SQL Relay 2016 Presentation</a>
<p>The presentation covers the basics of the following:</p>
<ul>
<li>Database design</li>
<li>Work management</li>
<li>Source control</li>
<li>Infrastructure locally and in the cloud</li>
<li>Database Development</li>
<li>Deployment</li>
</ul>
<h2 id="PreRequisites"><a href="#PreRequisites" class="headerlink" title="PreRequisites"></a>PreRequisites</h2><p>The demonstrations in the talk require the following:</p>
<ul>
<li><a href="https://git-scm.com/" target="_blank" rel="external">Git</a> &amp; <a href="https://github.com/" target="_blank" rel="external">Github Account</a> - For source control</li>
<li><a href="https://www.visualstudio.com/team-services/" target="_blank" rel="external">Team Services Online Account</a> - For source control and Work Management</li>
<li><a href="https://www.visualstudio.com/vs/community/" target="_blank" rel="external">Visual Studio Community Edition</a> - For code development and infrastructure</li>
<li><a href="https://www.microsoft.com/en-gb/download/details.aspx?id=52679" target="_blank" rel="external">SQL Server Express</a> - For code development and infrastructure</li>
<li><a href="https://azure.microsoft.com/en-gb/" target="_blank" rel="external">Azure Account</a> - For infrastructure</li>
<li><a href="https://notepad-plus-plus.org/download/v6.9.2.html" target="_blank" rel="external">Notepad++</a>, <a href="https://atom.io/" target="_blank" rel="external">Atom</a> - These are both useful text editors</li>
</ul>
<h2 id="Accompanying-Youtube-Videos"><a href="#Accompanying-Youtube-Videos" class="headerlink" title="Accompanying Youtube Videos"></a>Accompanying Youtube Videos</h2><p>I’ve pushed the boat out with this years talk and decided to make myself a youtube channel and playlist to demonstrate the tools used.<br><a href="https://www.youtube.com/playlist?list=PLA5YLvtN7pNPqa77xX-g0K5roN93BOAS2" target="_blank" rel="external">SQL Relay 2016 Demos</a></p>
<h2 id="Accompanying-Github-Repository"><a href="#Accompanying-Github-Repository" class="headerlink" title="Accompanying Github Repository"></a>Accompanying Github Repository</h2><p>I’ve also created a more detail github code respository of the MyGymDB project which I hope to add to over time.<br>This includes a ReadMe file with further details and instructions to implement the database yourself.<br><a href="https://github.com/griff182uk/MyGymDB" target="_blank" rel="external">MyGymDB GitHub Repository</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Github IO Page 404 Error Hexo CNAME]]></title>
      <url>www.datagriff.com/2016/09/Github404ErrorCNAME/</url>
      <content type="html"><![CDATA[<h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>Unless you ensure your CNAME file with the name of your domain is in your github io repository root folder, you’ll get a 404 error on the domain of your github io page.<br>When deploying in Hexo this file gets overwritten unless you place it in the source folder of your raw Hexo files.</p>
<p><strong>What we’re going to do:</strong></p>
<ul>
<li>Ensure the CNAME file is in the Hexo source folder with domain name</li>
<li>Ensure this CNAME file is the root folder of the Hexo output</li>
<li>Ensure this CNAME file is in the root of your github io repository</li>
</ul>
<h3 id="CNAME-in-hexo-source-folder"><a href="#CNAME-in-hexo-source-folder" class="headerlink" title="CNAME in hexo source folder"></a>CNAME in hexo source folder</h3><p>First ensure that you place a CNAME file in the source folder of your raw hexo folder with the name of your domain contained in the file. <strong>Note</strong> there is no file extension for the CNAME file.</p>
<img src="/2016/09/Github404ErrorCNAME/CNAMESourceFolder.PNG" alt="CNAME in Hexo Source Folder" title="CNAME in Hexo Source Folder">
<h3 id="CNAME-in-hexo-output-root-folder"><a href="#CNAME-in-hexo-output-root-folder" class="headerlink" title="CNAME in hexo output root folder"></a>CNAME in hexo output root folder</h3><p>Then after you have done the Hexo generate command, ensure that you can see the CNAME file in the root of your  output folder.</p>
<img src="/2016/09/Github404ErrorCNAME/CNAMEOutputFolder.PNG" alt="CNAME in root of Hexo Output Folder" title="CNAME in root of Hexo Output Folder">
<h3 id="CNAME-in-root-folder-of-Github-IO-Repository"><a href="#CNAME-in-root-folder-of-Github-IO-Repository" class="headerlink" title="CNAME in root folder of Github IO Repository"></a>CNAME in root folder of Github IO Repository</h3><p>Then after you have done the Hexo deploy command (using git) to your github IO repository, ensure the CNAME file is there.</p>
<img src="/2016/09/Github404ErrorCNAME/CNAMEGitHubIO.PNG" alt="CNAME in root folder of Github IO repo" title="CNAME in root folder of Github IO repo">
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Azure Create SQL Database]]></title>
      <url>www.datagriff.com/2016/09/AzureSQLPaaS/</url>
      <content type="html"><![CDATA[<h2 id="Azure-Create-SQL-Database"><a href="#Azure-Create-SQL-Database" class="headerlink" title="Azure Create SQL Database"></a>Azure Create SQL Database</h2><p>Please note if you want to go straight to the official azure documentation, please go <a href="https://azure.microsoft.com/en-gb/documentation/articles/sql-database-get-started/" target="_blank" rel="external">here</a>. It’s probably more up to date than this already! :)</p>
<p>In this quick example we’re going to see how to create a SQL database in Azure using the PaaS offering. This stands for platform as a service and is a complete service provided by Microsoft. It does have it’s limitations but is a great way to spin up a database to play with no concerns over infrastructure or software administration. This is any idea for any new applications you may have or just to have some fun!</p>
<p><strong>What we’re going to do:</strong></p>
<ul>
<li>We’re going to make sure you have an <a href="https://azure.microsoft.com/en-gb/" target="_blank" rel="external">azure</a> account</li>
<li>Create a SQL Database in Azure</li>
<li>Connect to the SQL Database via SSMS</li>
</ul>
<h3 id="Get-yourself-an-Azure-Account"><a href="#Get-yourself-an-Azure-Account" class="headerlink" title="Get yourself an Azure Account"></a>Get yourself an Azure Account</h3><p>Don’t fear the Azure! Get yourself over to <a href="https://azure.microsoft.com/en-gb/" target="_blank" rel="external">azure</a> and set yourself up an account. It will ask for bank details but you get a load of credit free at the start and if you have an MSDN license you have even more. You can also cap your spending limit. See the screenshot below to allay your fears… We’ll revisit this at the end as I would guess this would be the biggest sticking point for most people when approaching Azure. It’s all good…</p>
<h3 id="Create-a-SQL-Database-in-Azure"><a href="#Create-a-SQL-Database-in-Azure" class="headerlink" title="Create a SQL Database in Azure"></a>Create a SQL Database in Azure</h3><p>When logged in to your Azure portal use search tool and type in SQL Database.</p>
<img src="/2016/09/AzureSQLPaaS/01_Search.png" alt="Search SQL Database Azure Portal" title="Search SQL Database Azure Portal">
<p>Pick SQL Database</p>
<img src="/2016/09/AzureSQLPaaS/PickSQLDatabase.PNG" alt="Pick SQL Database" title="Pick SQL Database">
<p>then click Create</p>
<img src="/2016/09/AzureSQLPaaS/02_Create.PNG" alt="Create SQL Database Azure" title="Create SQL Database Azure">
<p>Enter in the  database details. This includes the database name, setting up a new resource group (if don’t already have one), setting your collation and selecting your developer pricing benefit package. Remember to select the basic pricing tier to save your credits. You’ll also need to configure a logical server for this database to live which you will see in the next section.<br>P.s in the Select source section you can choose a sample database rather than a blank one if you want some ready made data!</p>
<img src="/2016/09/AzureSQLPaaS/03_ConfigureDatabase.PNG" alt="Configure SQL Database Azure" title="Configure SQL Database Azure">
<p>Click the Configure Server settings and create a new server (if don’t already have one).</p>
<img src="/2016/09/AzureSQLPaaS/04_ConfigureServerSettings.PNG" alt="Click Configure Server Settings Azure" title="Click Configure Server Settings Azure">
<img src="/2016/09/AzureSQLPaaS/05_CreateNewServer.PNG" alt="Create Logical Server Azure" title="Create Logical Server Azure">
<p>Set the name of your logical server. Create a server admin login and a password, <strong>you’ll need these later to logon to your database so remember this!</strong> Leave the rest as default then just to get along…</p>
<img src="/2016/09/AzureSQLPaaS/06_ServerDetails.PNG" alt="Configure Logical Server Details" title="Configure Logical Server Details">
<p>Now that you are back to your configure database page after configuring your server, click create! Have a look in your notifications and you will see it deploying.</p>
<img src="/2016/09/AzureSQLPaaS/07_DeployStartedUnderNotifications.PNG" alt="Validating Deployment" title="Validating Deployment">
<p>Once this is done, we can look at connecting in the next step!</p>
<h3 id="Connect-to-the-SQL-Database-via-SSMS"><a href="#Connect-to-the-SQL-Database-via-SSMS" class="headerlink" title="Connect to the SQL Database via SSMS"></a>Connect to the SQL Database via SSMS</h3><p>In Azure go back to your homepage and pick SQL databases. You will see the list of your SQL databases. Pick the one you want to create a connection to (the one you just made).</p>
<img src="/2016/09/AzureSQLPaaS/YourSQLDatabases.PNG" alt="Go to your SQL Databases" title="Go to your SQL Databases">
<p>Now you need to ensure that your local PC is going to be able to connect to your database so click the Set Server Firewall tab at the top in the database settings.</p>
<img src="/2016/09/AzureSQLPaaS/SetServerFirewall.PNG" alt="Set Firewall" title="Set Firewall">
<p>Click add client IP.</p>
<img src="/2016/09/AzureSQLPaaS/AddClientIP.PNG" alt="Add Client IP" title="Add Client IP">
<p>This will then save your IP address to allow connection.</p>

<p>And finally you will get a success…</p>
<img src="/2016/09/AzureSQLPaaS/FirewallSuccess.PNG" alt="Firewall Success" title="Firewall Success">
<p>Now you have set the firewall rules, go back to your database settings and get the full name of your database. This is the one that ends with database.windows.net and you can hover over the end of it and just click copy.</p>
<img src="/2016/09/AzureSQLPaaS/CopyServerName.PNG" alt="Copy full path of database" title="Copy full path of database">
<p>Open SSMS and paste in the full path, ensure SQL authentication is chosen and use the admin account and password you created earlier.</p>
<img src="/2016/09/AzureSQLPaaS/SSMSConnect.PNG" alt="SSMS Connect Dialog" title="SSMS Connect Dialog">
<p>Hey presto! There’s your database in the cloud!</p>
<img src="/2016/09/AzureSQLPaaS/SSMSConnected.PNG" alt="SSMS Connected to database in the Cloud" title="SSMS Connected to database in the Cloud">
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Add Visual Studio Project to Online Visual Studio Team Services]]></title>
      <url>www.datagriff.com/2016/08/AddVisualStudioProjectTeamServices/</url>
      <content type="html"><![CDATA[<p>The following shows you how to add an existing Visual Studio project to your visual studio team services online account.</p>
<p>First open your solution in Visual Studio, right click the solution and select “Add to Source Control.”</p>
<img src="/2016/08/AddVisualStudioProjectTeamServices/VSAddToSourceControl.png" alt="Visual Studio Add to Source Control" title="Visual Studio Add to Source Control">
<p>You will then see that the project has green lock icons next to its files.</p>
<img src="/2016/08/AddVisualStudioProjectTeamServices/VSSolutionAddedToSourceControl.png" alt="Visual Studio Added to Source Control" title="Visual Studio Added to Source Control">
<p>And the file architecture folder will have git files.</p>
<img src="/2016/08/AddVisualStudioProjectTeamServices/GitAddedToSolution.png" alt="Solution Folder Git Files" title="Solution Folder Git Files">
<p>Both showing that you have added the solution to a local Git repo for source control.</p>
<p>Open the team explorer window and select Sync.</p>
<img src="/2016/08/AddVisualStudioProjectTeamServices/VSSync.png" alt="Visual Studio Sync" title="Visual Studio Sync">
<p>With the options that you get presented with, choose Publish to Visual Studio Team Service by clicking Publish Git Repo.</p>
<img src="/2016/08/AddVisualStudioProjectTeamServices/ChoosePublishVSOnline.png" alt="Choose Publish Visual Studio Team Services" title="Choose Publish Visual Studio Team Services">
<p>Publish the project to your online visual studio account (you may need to sign in again here), by entering an appropriate name for your new repository and select then Publish Repository.</p>
<img src="/2016/08/AddVisualStudioProjectTeamServices/PublishProject.png" alt="Visual Studio Publish Project" title="Visual Studio Publish Project">
<p>Open a browser and navigate to your Visual Studio team services homepage. You may not see the project in your list so you might have to choose browse and find your new project there.</p>
<img src="/2016/08/AddVisualStudioProjectTeamServices/BrowseToNewProject.png" alt="Browse to Visual Studio Team Service Project" title="Browse to Visual Studio Team Service Project">
<p>There you will see the code from your Visual Studio solution online in your team services source control.</p>
<img src="/2016/08/AddVisualStudioProjectTeamServices/VSOnlineCodeAdded.png" alt="Visual Studio Team Service Project Code" title="Visual Studio Team Service Project Code">
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Visual Studio Team Services New Project]]></title>
      <url>www.datagriff.com/2016/07/VisualStudioOnlineNewProject/</url>
      <content type="html"><![CDATA[<p><a href="https://www.visualstudio.com/en-us/products/visual-studio-team-services-vs.aspx" target="_blank" rel="external">Visual studio team services</a> is an online tool for managing your visual studio code. It is a free tool for individuals that provides source control, project management, Kanban boards, automated builds, testing and much more. I’ve found it a useful way of managing my visual studio work and also a way of practicing for team foundation server in the workplace when I don’t actually have it!</p>
<p>The following explains how to simply setup a visual studio team services project, clone it in visual studio and then keep your code in the source control provided by team services. I will be choosing the Git style rather than the TFS version of source control, just because I’m now used to Git and I think it’s more flexible. Also you get the added bonus of a local git repository if you can’t get online for any reason.</p>
<h2 id="Setup-a-visual-studio-team-services-account"><a href="#Setup-a-visual-studio-team-services-account" class="headerlink" title="Setup a visual studio team services account"></a>Setup a visual studio team services account</h2><p>If you haven’t already got one - set yourself up a visual studio account. At the time of writing the link for this could be found at <a href="https://www.visualstudio.com/en-us/products/visual-studio-team-services-vs.aspx" target="_blank" rel="external">Visual studio team services</a>, if it’s moved just google visual studio team services or visual studio online and follow the relevant paths and instructions.</p>
<p>Another prerequisite for the following is obviosuly having <a href="https://www.visualstudio.com/" target="_blank" rel="external">visual studio</a> installed on your local machine… Nearly forgot that one!</p>
<h2 id="Setup-a-new-online-project"><a href="#Setup-a-new-online-project" class="headerlink" title="Setup a new online project"></a>Setup a new online project</h2><p>Select new under Recent Projects &amp; Teams of you visual studio team services account.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSOnlineNewProject.png" alt="Team Services New Project" title="Team Services New Project">
<p>Give the project a name, a description, pick a process template (<strong>Agile</strong> is fine for me and provides a Kanban board but you may want to choose a different one if you wish) and your version control (as I mentioned in the beginning I use <strong>Git</strong> as I believe it’s more flexible), then click create project.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSOnlineCreateProject.png" alt="Team Services Create Project" title="Team Services Create Project">
<p>Once your project is created click navigate to project.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSOnlineProjectCreated.png" alt="Team Services Project Created" title="Team Services Project Created">
<p>You can start managing your work or add your code. In this example we’re just going to focus on getting code in and syncing this with your visual studio project, so we’ll choose add code.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSOnlineProjectChooseCode.png" alt="Team Services Add Code" title="Team Services Add Code">
<h2 id="Link-your-online-project-to-visual-studio-code"><a href="#Link-your-online-project-to-visual-studio-code" class="headerlink" title="Link your online project to visual studio code"></a>Link your online project to visual studio code</h2><p>After choosing add code Select “Clone in Visual Studio”.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSOnlineClone.png" alt="Team Services Clone" title="Team Services Clone">
<p>In any external protocol request that pops up just click accept. Visual studio will now open with an empty project, but in the <strong>team explorer</strong> window on the right you will see the option to clone from your online project, click clone.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSClone.png" alt="Visual Studio Clone" title="Visual Studio Clone">
<p>You will see a message for the new repository being cloned successfully.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSSuccesfulClone.png" alt="Visual Studio Successful Clone" title="Visual Studio Successful Clone">
<p>Then start a new solution for whatever project it is you’re going to do. In my example I’m just going to create a windows form project.<br>Back in the team explorer window click changes and you will see a load of changes as a result of creating the project. Click the + icon to stage these changes.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSStageChanges.png" alt="Visual Studio Stage Changes" title="Visual Studio Stage Changes">
<p>Then type a commit message in the box at the top to describe your changes and click commit staged.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSCommit.png" alt="Visual Studio Commit Changes" title="Visual Studio Commit Changes">
<p>Then click sync to share with your server.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSSync.png" alt="Visual Studio Sync" title="Visual Studio Sync">
<p>Finally in the synchronisation menu that appears select push.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSPush.png" alt="Visual Studio Push" title="Visual Studio Push">
<p>You should then see this successfully pushing to your origin which is your visual studio team services project.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSSuccessfulPush.png" alt="Visual Studio Push Success" title="Visual Studio Push Success">
<p>Lets go back online and see if we can see it, refresh the page and… Hey presto your code is added to your online project.</p>
<img src="/2016/07/VisualStudioOnlineNewProject/VSOnlineInitialCommit.png" alt="Visual Studio Online Initial Commit" title="Visual Studio Online Initial Commit">
<h2 id="Quick-Reference-for-Working-with-your-Visual-Studio-Team-Services"><a href="#Quick-Reference-for-Working-with-your-Visual-Studio-Team-Services" class="headerlink" title="Quick Reference for Working with your Visual Studio Team Services"></a>Quick Reference for Working with your Visual Studio Team Services</h2><p>Just to quickly go through the process of adding code, committing, syncing and pushing to your team services project. Make a change to your project e.g. adding a form button.</p>
<ol>
<li>Make a change to your code in Visual Studio</li>
<li>Save the changes</li>
<li>In <strong>team explorer</strong> go to changes menu</li>
<li>Add your staged changes</li>
<li>Commit your stage changes with a message</li>
<li>Sync your changes</li>
<li>Push your changes</li>
</ol>
<img src="/2016/07/VisualStudioOnlineNewProject/VSOnlineCommitedExample.png" alt="Visual Studio Online Committed Example" title="Visual Studio Online Committed Example">
<p>This will keep your visual studio code in the visual studio team services online source control, available for you to work from wherever you are with internet access! Sweet.<br>There’s a hell of a lot more you can do with visual studio online but this should give you the basics to use the tool as a system source control.   </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Get by with Git]]></title>
      <url>www.datagriff.com/2016/07/GetByWithGit/</url>
      <content type="html"><![CDATA[<p>Source control allows you to keep version history of your code all in one place. It also allows multiple teams to work on the same code using the concepts of branching and merging… I’m not going to talk about that though - this is just a brief post on how you can easily set up source control for free for your own code, using it locally (on your machine), with the option of pushing it to a distributed <a href="https://github.com/" target="_blank" rel="external">github repository</a> as well, along with the key commands to get by for most of what you’re going to do.</p>
<h2 id="Quick-Reference"><a href="#Quick-Reference" class="headerlink" title="Quick Reference"></a>Quick Reference</h2><p>This is what you’re going to be doing most of the time! (once setup).</p>
<ul>
<li>Add your local files</li>
<li>Commit your local files</li>
<li>Push those changes to your distributed github repo.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;message&quot;</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
<p>For detail see sections below.</p>
<h2 id="Step-1-Setting-Git-up-Locally"><a href="#Step-1-Setting-Git-up-Locally" class="headerlink" title="Step 1: Setting Git up Locally"></a>Step 1: Setting Git up Locally</h2><p>First download <a href="https://git-for-windows.github.io/" target="_blank" rel="external">git bash</a>. This allows you to locally set up source control on a folder on your local machine (hooray!).<br>To start git bash on a folder after you have installed git, just right-click the folder and select “Git Bash Here”.</p>
<p><img src="/images/GitBashStart.png" alt="Git Bash Start"></p>
<p>Git bash just looks like a command prompt.<br>Below is an example of some git bash code.</p>
<p><img src="/images/GitAdd.png" alt="Git Add Example"></p>
<h2 id="Step-2-Commands-to-Get-By-Locally"><a href="#Step-2-Commands-to-Get-By-Locally" class="headerlink" title="Step 2: Commands to Get By Locally"></a>Step 2: Commands to Get By Locally</h2><p>The following command initialises git on the folder you started git bash in. That’s all you need to start a local git repository! You’re only going to execute this once, when you’re setting up your new repo locally.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure></p>
<p>The following command tells you the status of the local git folder. What has changed, what hasn’t been committed etc. It’s always handy to check…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure></p>
<p>I pretty much run this as standard every time before I perform a commit just to make sure everything is added to the git source control. The status will changed as you amend files.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure></p>
<p>You can though add a specific file name if you only want to perform that commit right now. I rarely do this though as I just want everything chucked in so I perform the command above. <strong>Remember you can only commit files to your git source control once you’ve added them!</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add &quot;filename&quot;</span><br></pre></td></tr></table></figure></p>
<p>Once you’ve added or amended your files commit them to the git source control with an appropriate message using the following.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;My Message&quot;</span><br></pre></td></tr></table></figure></p>
<h2 id="Step-3-Commands-to-Get-by-with-Distributed-Git"><a href="#Step-3-Commands-to-Get-by-with-Distributed-Git" class="headerlink" title="Step 3: Commands to Get by with Distributed Git"></a>Step 3: Commands to Get by with Distributed Git</h2><p>First you need to set up your repository on your <a href="https://github.com/" target="_blank" rel="external">github</a> and then copy the link in your repo where it says clone or download.</p>
<p><img src="/images/GitHubCopyURL.png" alt="Github Copy URL"></p>
<p>When in git bash on your local folder run the following command to add the github repository link, pasting in your repo where it says “add origin”.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin &quot;http://github.com/foo&quot;</span><br></pre></td></tr></table></figure></p>
<p>At the start it is likely you will have a readme file in the github repo, so you will need to first pull from the Distributed repo to make sure everything is in sync, otherwise it just throws a wobbly. So run this.<br>P.S when you run this you’ll probably get a text editor pop up asking for a commit message - I just close this.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull &quot;http://github.com/foo&quot; master</span><br></pre></td></tr></table></figure></p>
<p>Then this is the command you will be running all the time from your local folder to keep your distributed repo up to date. It’s pretty much git add ., git commit -m “message”, then the following command for most of your source control needs.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure></p>
<p>You can see when you execute the above command the local changes get pushed to the distributed system. In the screenshot below the test.txt file had been pushed to the distributed repo from the local folder.</p>
<p><img src="/images/GitRepoPushed.png" alt="Github Repo Pushed"></p>
<p>If you have made changes to the distributed repo and want to bring them in to your local git repo, you can just run this.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hexo Quick New Post and Deploy]]></title>
      <url>www.datagriff.com/2016/06/HexoQuickNewPostAndDeploy/</url>
      <content type="html"><![CDATA[<p>Below shows the quick process of creating and deploying a new post, while keeping everything under source control. This post assumes you already have the source folder initialised with git and linked to a standard repository, and the output folder initialised with git, linked to your io repository.  </p>
<p>Navigate to your hexo source folder in node.js command prompt.<br>In my case this is E:\Documents\Projects\DataGriff\Raw.</p>
<p><img src="\images\HexoSourceFolder.png" alt="Hexo Source Folder in Node.js Command Prompt"></p>
<p>Enter the command:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post test</span><br></pre></td></tr></table></figure></p>
<p><img src="\images\HexoNewPost.png" alt="Hexo New Post Command in Node.js Command Prompt"></p>
<p>This will create a new post file called test.md. Don’t close the node.js command prompt as you use it again at the end to deploy.</p>
<p>Start Git bash on your source folder and check the status by using:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure></p>
<p><img src="\images\GitStatusChange.png" alt="Git Status New Post Added"><br>This will show a new file called test.md has been added.</p>
<p>Use the command below to add all the changed or new files.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure></p>
<p><img src="\images\GitAddAll.png" alt="Git Add All Files Using Git Bash"><br>Use the command below to commit the changes with a message.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;new post added&quot;</span><br></pre></td></tr></table></figure></p>
<p><img src="\images\GitCommit.png" alt="Git Commit with Message  Using Git Bash"><br>Check the status again and you will see there are no changes now as you have committed them.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure></p>
<p><img src="\images\GitStatusClean.png" alt="Git Status Clean  Using Git Bash"><br>To keep your remote repository up to date, use the command below.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure></p>
<p><img src="\images\GitPushOriginMaster.png" alt="Git Sync with Remote Using Git Bash"><br>Revert back to the node.js command prompt and use the following command to generate the output files<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br></pre></td></tr></table></figure></p>
<p><img src="\images\HexoGenerate.png" alt="Hexo Generate Command in Node.js"><br>Still in the node.js command prompt use the following command to deploy the output files to your github io repo and so your website.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></p>
<p><img src="\images\HexoDeploy.png" alt="Hexo Deploy Command in Node.js"><br>You should then be able to see the new post if you refresh the page.<br><img src="\images\HexoTestPost.png" alt="Hexo New Post"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SQL Aggregate Across Columns]]></title>
      <url>www.datagriff.com/2016/06/SQLAggregateAcrossColumns/</url>
      <content type="html"><![CDATA[<p>In order to aggregate across columns in SQL you can use the following syntax.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  (<span class="keyword">SELECT</span> <span class="keyword">Aggregate</span>(v) <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (ColA), (ColB), (ColC),...) <span class="keyword">AS</span> <span class="keyword">value</span>(v)) <span class="keyword">as</span> [AggregateCol]</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">Object</span>;</span><br></pre></td></tr></table></figure>
<h2 id="Aggregate-Dates-Across-Columns-Example"><a href="#Aggregate-Dates-Across-Columns-Example" class="headerlink" title="Aggregate Dates Across Columns Example"></a>Aggregate Dates Across Columns Example</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Example 1: Dates Min and Max Across Columns</span></span><br><span class="line">WITH CTE AS (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CAST</span>(<span class="string">'01-Jan-2016'</span> <span class="keyword">AS</span> <span class="built_in">DATE</span>) <span class="keyword">AS</span> DateA, <span class="keyword">CAST</span>(<span class="string">'10-Jan-2016'</span> <span class="keyword">AS</span> <span class="built_in">DATE</span>) <span class="keyword">AS</span> DateB, <span class="keyword">CAST</span>(<span class="string">'15-Jan-2016'</span> <span class="keyword">AS</span> <span class="built_in">DATE</span>) <span class="keyword">AS</span> DateC</span><br><span class="line"><span class="keyword">UNION</span> ALL <span class="keyword">SELECT</span> <span class="string">'05-Jan-2016'</span> <span class="keyword">AS</span> DateA, <span class="string">'04-Jan-2016'</span> <span class="keyword">AS</span> DateB, <span class="string">'16-Jan-2016'</span> <span class="keyword">AS</span> DateC</span><br><span class="line"><span class="keyword">UNION</span> ALL <span class="keyword">SELECT</span> <span class="string">'08-Jan-2016'</span> <span class="keyword">AS</span> DateA, <span class="string">'31-Dec-2015'</span> <span class="keyword">AS</span> DateB, <span class="string">'10-Jan-2016'</span> <span class="keyword">AS</span> DateC</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  (<span class="keyword">SELECT</span> <span class="keyword">MAX</span>(v) <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (DateA), (DateB), (DateC)) <span class="keyword">AS</span> <span class="keyword">value</span>(v)) <span class="keyword">as</span> [MaxDate]</span><br><span class="line">  ,  (<span class="keyword">SELECT</span> <span class="keyword">MIN</span>(v) <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (DateA), (DateB), (DateC)) <span class="keyword">AS</span> <span class="keyword">value</span>(v)) <span class="keyword">as</span> [MinDate]</span><br><span class="line"><span class="keyword">FROM</span> CTE;</span><br></pre></td></tr></table></figure>
<p><strong>Outputs</strong></p>
<table>
<thead>
<tr>
<th>MaxDate</th>
<th>MinDate</th>
</tr>
</thead>
<tbody>
<tr>
<td>2016-01-15</td>
<td>2016-01-01</td>
</tr>
<tr>
<td>2016-01-16</td>
<td>2016-01-04</td>
</tr>
<tr>
<td>2016-01-10</td>
<td>2015-12-31</td>
</tr>
</tbody>
</table>
<h2 id="Aggregate-Numeric-Across-Columns-Example"><a href="#Aggregate-Numeric-Across-Columns-Example" class="headerlink" title="Aggregate Numeric Across Columns Example"></a>Aggregate Numeric Across Columns Example</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--Example 2: Sum and Average Numbers Across Columns</span></span><br><span class="line">WITH CTE AS (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">5</span> <span class="keyword">AS</span> NumA, <span class="number">10</span> <span class="keyword">AS</span> <span class="keyword">NumB</span>, <span class="number">15</span> <span class="keyword">AS</span> NumC</span><br><span class="line"><span class="keyword">UNION</span> ALL <span class="keyword">SELECT</span> <span class="number">20</span> <span class="keyword">AS</span> NumA, <span class="number">40</span> <span class="keyword">AS</span> <span class="keyword">NumB</span>, <span class="number">60</span> <span class="keyword">AS</span> NumC</span><br><span class="line"><span class="keyword">UNION</span> ALL <span class="keyword">SELECT</span> <span class="number">25</span> <span class="keyword">AS</span> NumA, <span class="number">50</span> <span class="keyword">AS</span> <span class="keyword">NumB</span>, <span class="number">75</span> <span class="keyword">AS</span> NumC</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  (<span class="keyword">SELECT</span> <span class="keyword">SUM</span>(v) <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (NumA), (<span class="keyword">NumB</span>), (NumC)) <span class="keyword">AS</span> <span class="keyword">value</span>(v)) <span class="keyword">as</span> [SumNum]</span><br><span class="line">  ,  (<span class="keyword">SELECT</span> <span class="keyword">AVG</span>(v) <span class="keyword">FROM</span> (<span class="keyword">VALUES</span> (NumA), (<span class="keyword">NumB</span>), (NumC)) <span class="keyword">AS</span> <span class="keyword">value</span>(v)) <span class="keyword">as</span> [AvgNum]</span><br><span class="line"> <span class="keyword">FROM</span> CTE;</span><br></pre></td></tr></table></figure>
<p><strong>Outputs</strong></p>
<table>
<thead>
<tr>
<th>SumNum</th>
<th>AvgNum</th>
</tr>
</thead>
<tbody>
<tr>
<td>30</td>
<td>10</td>
</tr>
<tr>
<td>120</td>
<td>40</td>
</tr>
<tr>
<td>150</td>
<td>50</td>
</tr>
</tbody>
</table>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Configure Hexo]]></title>
      <url>www.datagriff.com/2016/06/ConfigureHexo/</url>
      <content type="html"><![CDATA[<h2 id="Configuring-Hexo-using-the-config-yml-file"><a href="#Configuring-Hexo-using-the-config-yml-file" class="headerlink" title="Configuring Hexo using the _config.yml file"></a>Configuring Hexo using the _config.yml file</h2><p>In the directory where you initalised hexo, you should see a file called _config.yml file. This is the file you edit to configure your hexo environment. At a bare minimum I did the following to get up and running quickly and efficiently.</p>
<p>I amended the site section at the top of the file to contain my and my site details.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: dataGriff</span><br><span class="line">subtitle: A blog about data from a guy named Griff</span><br><span class="line">description: A blog with content on SQL, data warehousing, business intelligence and all the rest!</span><br><span class="line">author: Richard Griffiths</span><br><span class="line">language: default</span><br><span class="line">timezone: GMT</span><br></pre></td></tr></table></figure>
<p><strong>Important Note:</strong> It is important to change the language to default as leaving it as “en” was causing the language to be random everytime I generated the site. This was a bug in hexo at the time of writing.</p>
<p>In the URL section I changed the URL to be my custom domain (“www.datagriff.com”) and amended the permalink of each post to be just down to the month level and not down to day.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</span><br><span class="line">url: www.datagriff.com</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:title/</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure></p>
<p>In the directory section I just changed the output path to <strong>../Output</strong>, from the default of public, which means the HTML files that get outputted go into a folder in the directory above the source path called Output, as I didn’t want the deployment to generate in the same folder as the source. This would cause all sorts of headaches with source control and with the number of git files. I preferred to keep the source code and ouput files separate.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Directory</span><br><span class="line">source_dir: source</span><br><span class="line">public_dir: ../Output</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line">i18n_dir: :lang</span><br><span class="line">skip_render:</span><br></pre></td></tr></table></figure>
<p>The only other thing I changed at this point was the deployment details, where I used the git type and entered in my github io repository where I’d be deploying my output.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/griff182uk/griff182uk.github.io</span><br></pre></td></tr></table></figure>
<p>There are a number of other configuration items that I’m sure could be messed around with found at <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">https://hexo.io/docs/deployment.html</a>, but I found the above was enough to get me going.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Deploying Hexo]]></title>
      <url>www.datagriff.com/2016/06/DeployingHexo/</url>
      <content type="html"><![CDATA[<h2 id="Generating-the-Files"><a href="#Generating-the-Files" class="headerlink" title="Generating the Files"></a>Generating the Files</h2><p>When in node.js command prompt, navigate to your source folder where you initialised hexo, and type<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br></pre></td></tr></table></figure></p>
<p>This will deploy all the html files to the output path you designated in the _config.yml file.</p>
<p><img src="/images/HexoGenerate.png" alt="Hexo Generate Output"></p>
<p>In my case I’d configured the files to generate in a folder above the source folder called outputs (../Output was what I had in the _config.yml file). The output folder should look something to below.</p>
<p><img src="/images/HexoOutputFiles.png" alt="Hexo Output Files"></p>
<h2 id="Deploying-Hexo"><a href="#Deploying-Hexo" class="headerlink" title="Deploying Hexo"></a>Deploying Hexo</h2><p>I chose to use git for my hexo deployment so before you can use the hexo deploy command below, you first need to install this. To install git deployment, while in the hexo initalised folder, type the following command and press return.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p>
<p>You also need to ensure that in your _config.yml file that you have git specified as the deploy method and the name of your github io repository specified.<br>To deploy then, when in node.js command prompt, navigate to your source folder where you initialised hexo, and type<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></p>
<p>This will deploy and push the files to the github repo you specified in the _config.yml file.</p>
<p><img src="/images/HexoDeploy.png" alt="Hexo Deploy Output"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Using Git Hub for Web Hosting]]></title>
      <url>www.datagriff.com/2016/06/UsingGitHubForWebHosting/</url>
      <content type="html"><![CDATA[<h2 id="Creating-a-Git-Hub-io-Repo"><a href="#Creating-a-Git-Hub-io-Repo" class="headerlink" title="Creating a Git Hub io Repo"></a>Creating a Git Hub io Repo</h2><p><strong><a href="https://github.com/" title="GitHub" target="_blank" rel="external">GitHub</a></strong> allows you each user to host one website as part of their service using a <a href="https://pages.github.com/" title="Github pages" target="_blank" rel="external">github “io” repoistory</a>.</p>
<p>To do this create a new github repository called [YourUserName]/[YourUserName].github.io.</p>
<p><img src="/images/GitHubIORepo.png" alt="My IO GitHub Repo"></p>
<p><strong>Note:</strong> I used this for my blog and so the URL for the github repository above was what I used in my Hexo _config.yml file in the deployment section.</p>
<p>Once you have deployed to the github repository you can view the site using the URL [YourUserName].github.io.</p>
<p>If you have a custom domain you want to use then you need to go to settings of your repo and where it says “Custom Domain” - add your custom domain name and save. This will add a CNAME file to your repository with the name of your custom domain in there.</p>
<p><strong>Important Note:</strong> In order for this CNAME file to persist, you should create it in your local output folder (with no file name extension), with the name of your custom domain. I found that if I didn’t do this everytime I pushed from my local folder the CNAME file would disappear and the connection from my github URL to my custom domain would disappear and I’d get a 404 error, so be aware of this!</p>
<p><img src="/images/CNAMEFolder.png" alt="CNAME File in Source Folder"></p>
<p><img src="/images/CNAMEContent.png" alt="CNAME Content"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Install and Initialise Hexo]]></title>
      <url>www.datagriff.com/2016/06/InstallAndInitaliseHexo/</url>
      <content type="html"><![CDATA[<p>Inspired by the awesome <strong><a href="https://www.pluralsight.com/" title="Pluralsight" target="_blank" rel="external">Pluralsight</a></strong> and it’s course on <a href="http://www.staticgen.com/" title="Title" target="_blank" rel="external">static site generators</a>, I decided to implement a blog using hexo.</p>
<p>The steps shown below are what you need to install and initalise Hexo locally.</p>
<h2 id="Required-Applications-and-Installations"><a href="#Required-Applications-and-Installations" class="headerlink" title="Required Applications and Installations"></a>Required Applications and Installations</h2><p>The following items were required to create my blog, which I either already had or required to install.</p>
<ul>
<li><strong><a href="https://git-scm.com/downloads" title="Git" target="_blank" rel="external">Git</a></strong>  - Of course I already had it installed! Git will provide the methods of source control and also in my case, provide the host for my blog web page.</li>
<li><strong><a href="https://nodejs.org/en/" title="Node.js" target="_blank" rel="external">Node.js</a></strong> - Downloaded this for windows X64, as I have a 64 bit machine, chose all the defaults and so “Next Next Nexted” until Finish.</li>
<li><strong>NPM</strong> - This installed with the latest version of Node.js above anyway so I didn’t need to do anything here.</li>
<li><strong><a href="https://atom.io/" title="Atom" target="_blank" rel="external">Atom</a></strong>  - Even though I’d used notepad++ as my text editor up until this point, it didn’t have any native markdown features so I got converted to atom. It has appropriate syntax highlighting for markdown and has a useful live HTML preview feature (CTRL+Shift+M). Therefore my first blog post (this one) was written with atom and I’m likely to stick with it…</li>
<li><strong><a href="https://hexo.io/" title="Hexo" target="_blank" rel="external">Hexo</a></strong> - Is a static site generator application and the main application I have used to implement my blog. The home page of Hexo gives you the command to install, so I opened up my command prompt and typed it in. At the time of my implementation of my blog this was…<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>Note:</strong> I actually used the node.js command prompt when performing these tasks, not windows command prompt, in case windows command prompt doesn’t work!</p>
<p>Then type in hexo into the command prompt and if the installation was a success you’ll get a load of hexo details back in the command window. Tidy!</p>
<h2 id="Using-Hexo-to-Initiate-my-Folders-and-Files"><a href="#Using-Hexo-to-Initiate-my-Folders-and-Files" class="headerlink" title="Using Hexo to Initiate my Folders and Files"></a>Using Hexo to Initiate my Folders and Files</h2><p>I created a folder in the desired location for my dataGriff blog by typing in the command (replace [My Path] with your folder path)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mrkdir //[My Path]/dataGriff</span><br></pre></td></tr></table></figure></p>
<p>Then I changed directory to this folder using<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd //[My Path]/dataGriff</span><br></pre></td></tr></table></figure></p>
<p>Finally I initialised hexo on the folder using<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure></p>
<p>There was a little message at the end of the command prompt output that stated<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO Start blogging with hexo</span><br></pre></td></tr></table></figure></p>
<p>So I thought I must be on the right track!</p>
<p><img src="/images/HexoStartBlogging.png" alt="Hexo Start Blogging"></p>
<h2 id="Viewing-Hexos-Startup-Template"><a href="#Viewing-Hexos-Startup-Template" class="headerlink" title="Viewing Hexos Startup Template"></a>Viewing Hexos Startup Template</h2><p>In command prompt, in my dataGriff directory, I typed<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure></p>
<p>Again I got the satisfying message of<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO hexo is running at http://localhost:4000/.</span><br></pre></td></tr></table></figure></p>
<p>So with trepidation I went to the <a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a> link in a browser and…<br>Hey presto! I could see hexos startup template! Success!<br>To stop the page running you can just press CTRL+C in the command prompt and confirm the termination.</p>
<p><img src="/images/HexoDefault.png" alt="Hexo Default Startup Page"></p>
<p>Using the hexo server command is a good way of testing your site locally before deployment.</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[YAML And Markdown Example]]></title>
      <url>www.datagriff.com/2016/06/YAMLAndMarkdown/</url>
      <content type="html"><![CDATA[<p>Markdown (.md) files offer the ability to use shorthand methods to generate HTML. Simply create a text file in your<br>favourite text editor and save it as FileName.md. Then you have yourself a markdown file.<br>This is particularly useful for bloggers where markdown is easier to quickly type and potentially easier to read as<br>raw code than HTML. Github already supports markdown files and a number of static site generators use markdown as their<br>raw source files to generate HTML. Where markdown caters for the content, YAML, which stands for “YAML ain’t markup language”, handles the metadata for the markdown document.</p>
<h2 id="YAML"><a href="#YAML" class="headerlink" title="YAML"></a>YAML</h2><p><strong>YAML</strong> stands for “YAML aint markup language” and is the metadata component of the page which can contain title, date and tags among others.<br>So at the top of my markdown document I could contain some metadata in YAML that would look something like the following.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &apos;YAML And Markdown Example&apos;</span><br><span class="line">date: 2016-06-23</span><br><span class="line">categories: Markdown</span><br><span class="line">tags: [&apos;Learning&apos;,&apos;YAML&apos;,&apos;Markdown&apos;]</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<h2 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a>Markdown</h2><p><strong>Markdown</strong> is an easy way to write content with shorthand methods instead of using something with tags (like HTML) so prose is easier to write and read when coded.<br>You can get more information on markdown at the creators of markdown <a href="https://daringfireball.net/" title="Daring Fireball" target="_blank" rel="external">Daring Fireball</a> or this nice cheatsheet from <a href="https://enterprise.github.com/downloads/en/markdown-cheatsheet.pdf&quot;" title="Github Markdown Cheatsheet" target="_blank" rel="external">github</a>.<br>The Markdown that generated the HTML above looks like this.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## Markdown</span><br><span class="line">**Markdown** is an easy way to write content with shorthand methods instead of using something with tags (like HTML) so prose is easier to write and read when coded.</span><br><span class="line">You can get more information on markdown at the creators of markdown [Daring Fireball](https://daringfireball.net/ &quot;Daring Fireball&quot;) or this nice cheatsheet from [github](https://enterprise.github.com/downloads/en/markdown-cheatsheet.pdf&quot; &quot;Github Markdown Cheatsheet&quot;).</span><br><span class="line">The Markdown that generated the HTML above looks like this.</span><br></pre></td></tr></table></figure>
<p>Where the ## translates to a header h1 tag in HTML and the asterisks wrapped around a word translate to bold. Links are represented as [Name to Display](URL “Title”).</p>
<h3 id="Markdown-Lists"><a href="#Markdown-Lists" class="headerlink" title="Markdown Lists"></a>Markdown Lists</h3><p>You can use asterisks (*) to create unordered lists in your markdown</p>
<ul>
<li>I</li>
<li>am</li>
<li>unordered</li>
</ul>
<p>Where the markdown that generates this HTML looks like the following.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">### Markdown Lists</span><br><span class="line">You can use asterisks (\*) to create unordered lists in your markdown</span><br><span class="line">* I</span><br><span class="line">* am</span><br><span class="line">* unordered</span><br></pre></td></tr></table></figure>
<p>You can see that ### creates a h3, the backslash is an escape character (for the asterisk) and asterisks generate the unordered bullets.</p>
<p>or the number 1 and a full stop (1.) to create ordered lists</p>
<ol>
<li>I</li>
<li>am</li>
<li>ordered</li>
</ol>
<p>Where the markdown that generates this HTML looks the following.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">or the number 1 and a full stop (1.) to create ordered lists</span><br><span class="line">1. I</span><br><span class="line">1. am</span><br><span class="line">1. ordered</span><br></pre></td></tr></table></figure>
<p>You can see that 1. creates an ordered list.</p>
<h3 id="Markdown-Code-blocks"><a href="#Markdown-Code-blocks" class="headerlink" title="Markdown Code blocks"></a>Markdown Code blocks</h3><p>You can also create code snippets using markdown by using three backticks above and below your markdown code.<br>Where is backtick on your keyboard?? It’s the Windows key and the backtick key (top left on a Qwerty keyboard)..</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Message(&quot;Hello World&quot;);</span><br></pre></td></tr></table></figure>
<p>I can display the code specifically (ish) as SQL by adding the keyword sql after the top three backticks if I like too…</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> dbo.TestTable</span><br><span class="line">(RowNo <span class="built_in">INT</span>, RowValue <span class="built_in">CHAR</span>(<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> dbo.TestTable</span><br><span class="line"><span class="keyword">WHERE</span> RowNo = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Markdown-Editors"><a href="#Markdown-Editors" class="headerlink" title="Markdown Editors"></a>Markdown Editors</h3><p>I currently use <a href="https://atom.io/" title="Atom" target="_blank" rel="external">Atom</a>   as my local markdown editor but there are also plenty of online markdown editors if you want to just try it out, such as <a href="https://stackedit.io/" title="stackedit" target="_blank" rel="external">stackedit</a> or <a href="http://dillinger.io/ [dillinger]" title="dillinger" target="_blank" rel="external">dillinger</a>. Also remember any github files saved as markdown (.md) will also display accordingly as HTML when viewed.</p>
]]></content>
    </entry>
    
  
  
</search>
